# Configuration

Comprehensive documentation of all configuration options for PDF Toolbox.

## Environment Variables

Configuration is primarily done via environment variables in the `.env` file.

### Stack Identification

```bash
# Unique name for the Docker stack
STACK_NAME=pdf_app_bauer-group_com

# Image version: latest-fat (recommended), latest, latest-ultra-lite
STIRLING_VERSION=latest-fat

# Timezone
TIME_ZONE=Etc/UTC
```

### Network

```bash
# Internal subnet (last octet)
PRIVATESUBNET=252

# Port for development (without reverse proxy)
EXPOSED_APP_PORT=8080

# Traefik configuration
SERVICE_HOSTNAME=pdf.app.bauer-group.com
PROXY_NETWORK=EDGEPROXY
```

### System Settings

```bash
# Languages (all available enabled)
LANGS=en_GB,de_DE,fr_FR,es_ES,it_IT,pt_BR,zh_CN,ja_JP,ko_KR,ar_AR,bg_BG,ca_CA,cs_CZ,da_DK,el_GR,eu_ES,fa_IR,fi_FI,ga_IE,hi_IN,hr_HR,hu_HU,id_ID,nl_NL,no_NB,pl_PL,pt_PT,ro_RO,ru_RU,sk_SK,sl_SI,sr_LATN_RS,sv_SE,th_TH,tr_TR,uk_UA,vi_VN,zh_TW

# Default language
SYSTEM_DEFAULT_LOCALE=en-GB

# Maximum file size in MB
SYSTEM_MAX_FILE_SIZE=2000

# Root path of the application
SYSTEM_ROOT_URI_PATH=/

# Connection timeout in minutes
SYSTEM_CONNECTION_TIMEOUT_MINUTES=5
```

### UI Branding

```bash
# Application name in navbar and title
UI_APP_NAME=PDF Toolbox [BAUER GROUP]

# Description on home page
UI_HOME_DESCRIPTION=Comprehensive PDF processing and conversion tools
```

### Visibility & Updates

```bash
# Hide from search engines
SYSTEM_GOOGLE_VISIBILITY=false

# Update notifications
SYSTEM_SHOW_UPDATE=false
SYSTEM_SHOW_UPDATE_ONLY_ADMIN=true
```

### Analytics & Telemetry

```bash
# Master switch for all analytics (PostHog + Scarf)
SYSTEM_ENABLE_ANALYTICS=false
```

### Security

See [Security & Login](Security.md) for detailed configuration.

```bash
# Enable login (recommended for production)
SECURITY_ENABLE_LOGIN=true

# Initial admin credentials
SECURITY_INITIAL_LOGIN_USERNAME=admin
SECURITY_INITIAL_LOGIN_PASSWORD=  # Generated by generate-secrets.sh

# CSRF protection (never disable in production!)
SECURITY_CSRF_DISABLED=false
```

### Legal Links (Footer)

```bash
LEGAL_TERMS_URL=https://go.bauer-group.com/pdf-terms
LEGAL_PRIVACY_URL=https://go.bauer-group.com/pdf-privacy
LEGAL_IMPRESSUM_URL=
```

### OCR Settings

```bash
# Default OCR language (ISO 639-3)
OCR_DEFAULT_LANGUAGE=eng
```

Available languages in `latest-fat` image:

| Code | Language |
|------|----------|
| `eng` | English |
| `deu` | German |
| `fra` | French |
| `spa` | Spanish |
| `ita` | Italian |

### Endpoint Customization

```bash
# Disable specific tools (comma-separated tool IDs)
ENDPOINTS_TO_REMOVE=

# Disable tool groups
ENDPOINTS_GROUPS_TO_REMOVE=
```

Available groups:

- `LibreOffice` - Office conversions
- `Python` - Python-based tools
- `OpenCV` - Image processing
- `OCRmyPDF` - OCR functions
- `Weasyprint` - HTML to PDF
- `Calibre` - E-book conversion
- `QPDF` - PDF manipulation
- `Ghostscript` - PostScript/PDF processing

### SMTP Settings

```bash
MAIL_ENABLED=false
MAIL_HOST=mx1.simply-send.com
MAIL_PORT=587
MAIL_USERNAME=no-reply@message.bauer-group.com
MAIL_PASSWORD=CHANGE_ME_SMTP_PASSWORD
MAIL_TLS_ENABLED=true
MAIL_FROM=no-reply@message.bauer-group.com
```

### Logging

```bash
# Log level: TRACE, DEBUG, INFO, WARN, ERROR
LOGGING_LEVEL=INFO

# OAuth debugging
# LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_SECURITY_OAUTH2=DEBUG
```

## Configuration Files

### settings.yml

Main configuration in `/configs/settings.yml`:

```yaml
security:
  enableLogin: true
  csrfDisabled: false
  loginMethod: all

system:
  defaultLocale: en-GB
  googleVisibility: false
  showUpdate: false
  enableAnalytics: false

ui:
  appName: "PDF Toolbox [BAUER GROUP]"
  homeDescription: "Comprehensive PDF processing and conversion tools"
```

### custom_settings.yml

Custom settings in `/configs/custom_settings.yml`:

```yaml
# This file overrides settings.yml
ui:
  appName: "My PDF Tool"
```

## Resource Limits

### By User Count

| Users | Memory | CPUs |
|-------|--------|------|
| 5-20 | 4 GB | 2.0 |
| 20-100 | 8 GB | 4.0 |
| 100+ | 16 GB | 8.0 |

### Docker Compose Configuration

```yaml
deploy:
  resources:
    limits:
      memory: 8G
      cpus: '4.0'
    reservations:
      memory: 4G
      cpus: '2.0'
```

## Access Points

| Environment | URL |
|-------------|-----|
| Development | <http://localhost:8080> |
| Production | <https://pdf.app.bauer-group.com> |
| API Documentation | <https://pdf.app.bauer-group.com/swagger-ui/index.html> |
| Health Check | <https://pdf.app.bauer-group.com/api/v1/info/status> |

## Further Documentation

- [Installation](Installation.md)
- [Security & Login](Security.md)
- [PDF Signing](PDF-Signing.md)
- [API Documentation](API.md)
